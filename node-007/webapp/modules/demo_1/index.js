"use strict";function App(t){this.index=0}App.prototype={init:function(){var t=this;t._bind(),t.list(),t.add(),t.edit(),t.del()},_bind:function(){var t=this,n={add:function(){$("#add").on("click",function(){$.ajax({url:"/api/demo_1/add.do",dataType:"json",type:"POST",data:{name:"xx_"+t.index,age:"age_"+t.index}}).done(function(n){t.index++,t.list()})})},list:function(){$.ajax({url:"/api/demo_1/list.do",dataType:"json",type:"POST"}).done(function(t){var n="";$("#list").html(n),t.forEach(function(t,i){n+='\n\t\t\t        <div class="item">\n\t\t\t          <span>'+t.name+"</span>\n\t\t\t          <span>"+(t.age||t.info||"--")+'</span>\n\t\t\t          <span class="edit" _id='+t._id+'>edit</span>\n\t\t\t          <span class="del" _id='+t._id+">del</span>\n\t\t\t        </div>\n\t\t\t        "}),$("#list").html(n)}),$.ajax({url:"/api/demo_1/count.do",dataType:"json",type:"POST"}).done(function(t){$("#count").html("共 "+t.count+" 条数据")})},edit:function(){$("#list").on("click",".edit",function(n){$.ajax({url:"/api/demo_1/edit.do",dataType:"json",type:"POST",data:{_id:$(n.currentTarget).attr("_id")}}).done(function(n){t.list()})})},del:function(){$("#list").on("click",".del",function(n){$.ajax({url:"/api/demo_1/del.do",dataType:"json",type:"POST",data:{_id:$(n.currentTarget).attr("_id")}}).done(function(n){t.list()})})}};for(var i in n)t[i]=n[i]}},(new App).init();